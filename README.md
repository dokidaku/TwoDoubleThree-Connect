:warning: Announcement
============

暂缓填坑。2016年1（或者2）月起开始增加新内容。
============

届时将打开所有issue，并给项目一个全新的名字&架构 =w=






![banner](banner.png)

[English](README_en.md)

Two Double Three · Connect
==========================

弹幕，不止于屏幕，不止于文字，不止于无限制的刷屏。  
233。


TL;DR
=====

拉到“[安装与配置](#安装与配置)”一节

首先，这个项目是什么鬼
======================

嗯……首先弹（dàn）幕（Danmaku）是啥就不解释了吧 ˊ_>ˋ  
这个神奇的东东普及之后，一些童鞋很快脑洞大开想出了把它搬到中大型活动（比如，学校举办的文艺汇演）的大屏幕上。

……但！是！  
……似乎并没有一个很好用的程序来显示？然后发送弹幕的方式也是一个问题。

后来嘛……好像大家比较喜欢自己动手丰衣足食，用微信公众号+PHP的方式实现最后的效果。

**窝不会码代码肿么办 QAQ**

嗯……找一位coder帮泥写就可以啦（可能需要一些经费 = =）

**窝没有经费肿么办 QAQ**

嗯……自己建个公众号，搭一个服务器就可以啦

**窝既没有经费找不到coder又不会搭服务器肿么办 (╥﹏╥)**

**窝想过滤一些不♂正♂常的词汇肿么办**

……于是这个项目诞生了…………

功能&亮点
=========

* 正常的弹幕排列，滚动、顶/底端停留（会尽量避免重叠 =w=）
* HTML5实现的发送端，<strike>大概</strike>适配移动设备
* 基于Socket.IO的服务端实现低延迟（如果网络够好的话）实时发送！
* 多功能的管理员控制台，保持良好环境……
  * 接收/拒绝弹幕的发送
  * 拒绝时可以附带理由以避免引起孩纸们的不满
  * 利用这个可以做到观众和管理员聊天！（大雾
  * 当然也可以指定关键词屏蔽或者完全关闭过滤功能
* 弹幕只能有文字嘛？！！窝们要支持画图！支持画图！支持画图！
* 当然还可以有高级弹幕和代码弹幕（都没做啦啦啦♪───Ｏ（≧∇≦）Ｏ────♪）

嗯好像差不多了……？

安装与配置
==========

Server side installation
------------------------

首先窝们需要有一台服务器。Windows也可以不过*nix当然最好啦～

有了服务器之后，上面还要有一个Node.JS。（怎么安装就不废话了，也可以找coder帮忙wwww）

然后窝们把这个项目的server目录复制上去（比如 `git clone`、FTP神马的），接下来

```bash
$ cd server
$ npm install -i
$ node main.js -p 8080
```

服务端就这样搞定啦～

Client (Display) side installation
----------------------------------

安装 .NET Framework 4.0（或者Wine——Mono似乎不兹磁窗体透明……窝应该没看错吧）。

把接收端程序复制到连接到大屏幕的电脑上。

运行 `TwoDoubleThree-Connect.exe`。

Client (Display) side configuration
-----------------------------------

与可执行文件同一目录下的 `settings.txt` 文件（懒得弄INI咯）记录所有的配置。
每一行记录了一条信息，格式形如 `[Name] - [Value]`

其中 `[Name]` 有如下几项：

* `Host`: 服务器的URL。
* `Font Family`: 显示弹幕的字体。
* `Font Size`: 显示弹幕的字号。
* `Line Height`: 两行弹幕间的距离。
* `Timer Interval`: 显示的更新间隔，以毫秒计。如果显示不流畅的话可以调调这个。
* `Display Layers`: 允许的最大弹幕层数（每一层撑满屏幕，每层内同一行的弹幕不会重叠）

管理员控制台
============

在服务器URL后加上 `/admin` 即可进入控制台，在服务器的终端/提示符里可以看到控制台的密码。

```
Current passcode: 3db41a8f4ae812c830a9c3035670ff07
```

注意手速要快哟～每分钟密码会变化一次。

验证完毕就能看到所有弹幕并决定是否把它们发送到屏幕上啦～弹幕在经过同意之前是不会被送上大屏幕滴～

关键词屏蔽
==========

嗯……经过思考，这个最好还是放在服务端进行设置……

因为……万一孩纸们经过管理员身边的话，就会看到一些不好的东西……嗯就是酱紫。

在服务器 `server` 目录下创建文件 `keywords.txt`，格式如下：
```python
# 在“#”后面写一个拒绝的理由，下一次更换前出现的关键字都会自动使用这个理由进行屏蔽
# 当然也可以当注释用 ^^
# 特殊地，用 #case-sensitive 和 #case-insensitive 设置是否大小写敏感
# 空行会被自动忽略

#case-sensitive
#开发者是无辜的！>^<
SkyZH
Pisces000221

#case-insensitive
#小孩子不能学坏
f--k
s--t

# 温(wu)馨(liao)提醒……对于中文使用 #case-insensitive 有助于提高执行效率
#case-insensitive
淦
```

接下来的计划
============

* 微信平台对接
* 项目主页
* 重构代码(((o(*ﾟ▽ﾟ*)o)))
* 修 bug
* 高级弹幕&代码弹幕

吐槽/疑问
=========

安装与使用的过程中遇到任何问题都请毫不犹豫地联系窝们～
（各种奇怪的问题或许是这个项目coder的锅呢 (￣▽￣)）

炒鸡欢迎Pull Requests啊啊啊啊～～ ヾ(＠⌒ー⌒＠)ノ 嗯只要注意下编码风格窝们（几乎）都是接受哒～

更多福利&展示区
===============

可以访问[项目主页](#)（Under construction (・Д・)ノ）

开放源代码许可
==============

The MIT/Expat License

Artwork: [CC BY 4.0 International](http://creativecommons.org/licenses/by/4.0/)

